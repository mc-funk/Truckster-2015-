{% extends "base.html" %}
{% block content %}
<!-- <head meta name="viewport" content="width=device-width, initial-scale=1">-->

    <link href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" rel="stylesheet">
    <link href="/truckster/truckster/styles/truckster-style.css" rel="stylesheet">
<style>
  #map { height: 400px; padding-left: 20px; border: 1px solid #000000; }
</style>
  <div class="row">
    <div class="col-md-8" id="map">
    </div>
    <div class="col-md-4 rsidebar sidebar">
      <div class="featured-truck"></div>
      <div class="about">
        Love food trucks? Now you can stalk them -- without all the work.
        Truckster will notify you when your favorite food trucks are open
        near the places where you work and play. <a href="#">Sign up today!</a>
      </div>
      <div class="search-box">
        <div class="loc-search"></div>
        <div class="truck-search"></div>
        <div class="browse-by-truck">
            <a href="#">Browse by truck</a>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
<script type="text/javascript" src="/truckster/truckster/scripts/truckster-scripts.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
    console.log("document ready");
    function initmap() {
	     // set up the map
	      map = new L.Map('map');

	       // create the tile layer with correct attribution
	        var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
	         var osmAttrib='Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
	          var osm = new L.TileLayer(osmUrl, {minZoom: 8, maxZoom: 12, attribution: osmAttrib});

	           // start the map in South-East England
	            map.setView(new L.LatLng(51.3, 0.7),9);
	             map.addLayer(osm);
             }

             initmap();
	/*	var zoomLevel = 5;
		var carrierHomeGps = [41.715317,-72.799067];
		var map = L.map('map');
		var DeviceList = {};


		L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

    map.setView(carrierHomeGps, zoomLevel);

		/*{% for device in device_objects %}
			var circle = L.circle(	[{{ device.description.meta.location.gps.lat | safe }},
									{{ device.description.meta.location.gps.long | safe }}],
									 500, {
				color: 'blue',
				fillColor: '#f03',
				fillOpacity: 0.5
			}).addTo(map);
			//circle.bindPopup( "{{ device.description.name }}" );
		{% endfor %}*/

	});
</script>

</body>
</html>

{% endblock %}
